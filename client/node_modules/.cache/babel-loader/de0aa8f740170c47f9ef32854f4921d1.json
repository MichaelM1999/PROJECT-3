{"ast":null,"code":"var _jsxFileName = \"/Users/michaelmariea/Desktop/PROJECT-3/project3/client/src/components/stockrec.js\";\nimport React, { Component } from 'react';\nimport '../css/recomend.css';\nimport API from '../utils/stockApi';\n\nclass Recomend extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      stock: \"\",\n      stockArry: [\"AMZN\", \"GOOGL\", \"NFLX\", \"GOOG\", \"JNJ\", \"BRK.B\", \"JPM\", \"DIS\"],\n      value: \"\",\n      changePercentage: \"\",\n      priceArray: \"\",\n      dateArray: \"\"\n    };\n\n    this.searchData = query => {\n      const priceArray = [];\n      const dateArray = [];\n      API.search(query).then(res => {\n        const dailySeries = res.data[\"Time Series (Daily)\"];\n\n        for (let key in dailySeries) {\n          // console.log('Time: ', key, 'price: ' ,dailySeries[key]['4. close']);\n          dateArray.push([key][0]);\n          priceArray.push(dailySeries[key]['4. close']);\n        }\n\n        this.setState({\n          priceArray: priceArray,\n          dateArray: dateArray\n        });\n        this.setState({\n          changePercentage: (this.state.priceArray[0] / this.state.priceArray[1] * 100 - 100).toString().slice(0, 4) + \"%\"\n        });\n        console.log(this.state.changePercentage);\n      });\n    };\n\n    this.currentStock = () => {\n      let i = 0;\n      const interval = setInterval(() => {\n        console.log(this.state.stockArry[i]);\n        let switchedStock = this.state.stockArry[i];\n        i += 1;\n        this.setState({\n          stock: switchedStock\n        });\n        this.searchData(this.state.stock);\n\n        if (i >= this.state.stockArry.length) {\n          clearInterval(interval);\n          this.currentStock();\n        }\n      }, 13000);\n    };\n  }\n\n  componentDidMount() {\n    this.currentStock();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"recomendBX\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"stockTxt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Popular Stocks\"), React.createElement(\"h3\", {\n      className: \"stockTxt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, this.state.stock), React.createElement(\"p\", {\n      className: \"changepercent stockTxt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, this.state.changePercentage));\n  }\n\n}\n\nexport default Recomend;","map":{"version":3,"sources":["/Users/michaelmariea/Desktop/PROJECT-3/project3/client/src/components/stockrec.js"],"names":["React","Component","API","Recomend","state","stock","stockArry","value","changePercentage","priceArray","dateArray","searchData","query","search","then","res","dailySeries","data","key","push","setState","toString","slice","console","log","currentStock","i","interval","setInterval","switchedStock","length","clearInterval","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport '../css/recomend.css';\nimport API from '../utils/stockApi';\n\nclass Recomend extends Component{\n\n  componentDidMount(){\n    this.currentStock();\n  }\n  \n  state = {\n    stock: \"\",\n    stockArry :[\"AMZN\",\"GOOGL\",\"NFLX\",\"GOOG\",\"JNJ\",\"BRK.B\",\"JPM\",\"DIS\"],\n    value: \"\",\n    changePercentage: \"\",\n    priceArray: \"\",\n    dateArray: \"\"\n  }\n  \n  searchData = query => {\n    const priceArray = [];\n    const dateArray = [];\n    API.search(query)\n    .then(res => {\n      const dailySeries = res.data[\"Time Series (Daily)\"];\n      for (let key in dailySeries){\n        // console.log('Time: ', key, 'price: ' ,dailySeries[key]['4. close']);\n        dateArray.push([key][0])\n        priceArray.push(dailySeries[key]['4. close']);\n      }\n    this.setState({priceArray: priceArray,\n        dateArray: dateArray,\n    })\n    this.setState({changePercentage: (((this.state.priceArray[0])/(this.state.priceArray[1])*100)-100).toString().slice(0,4)+\"%\"})\n    console.log(this.state.changePercentage)\n    })\n  }\n    \n  currentStock = () => {\n    let i = 0;\n    const interval = setInterval(() => {\n    console.log(this.state.stockArry[i]);\n    let switchedStock = this.state.stockArry[i];\n    i += 1;\n    this.setState({\n      stock: switchedStock\n    });\n    this.searchData(this.state.stock)\n    if (i >= this.state.stockArry.length) {\n      clearInterval(interval)\n      this.currentStock();\n      \n    }\n    }, 13000);\n  }\n\n    render(){\n\n      return(\n        <div className=\"recomendBX\">\n          <p className=\"stockTxt\">Popular Stocks</p>\n          <h3 className=\"stockTxt\">{this.state.stock}</h3>\n        <p className=\"changepercent stockTxt\">\n          {this.state.changePercentage}\n        </p>\n        </div>\n    )\n  }\n}\nexport default Recomend"]},"metadata":{},"sourceType":"module"}