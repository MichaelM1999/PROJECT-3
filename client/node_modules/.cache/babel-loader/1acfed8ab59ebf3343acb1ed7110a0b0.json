{"ast":null,"code":"var _jsxFileName = \"/Users/michaelmariea/Desktop/PROJECT-3/project3/client/src/components/stockrec.js\";\nimport React, { Component } from 'react';\nimport '../css/recomend.css';\nimport API from '../utils/stockApi';\n\nclass Recomend extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      stock: \"\",\n      stockArry: [\"AMZN\", \"GOOGL\", \"NFLX\", \"MSFT\", \"GOOG\", \"WMT\", \"JNJ\", \"BRK.B\", \"JPM\", \"DIS\", \"s\"],\n      value: \"\",\n      changePercentage: \"\",\n      priceArray: \"\",\n      dateArray: \"\"\n    };\n\n    this.searchData = query => {\n      const priceArray = [];\n      const dateArray = [];\n      API.search(query).then(res => {\n        const dailySeries = res.data[\"Time Series (Daily)\"];\n        console.log(dailySeries);\n\n        for (let key in dailySeries) {\n          // console.log('Time: ', key, 'price: ' ,dailySeries[key]['4. close']);\n          dateArray.push([key][0]);\n          priceArray.push(dailySeries[key]['4. close']);\n        }\n\n        console.log(this.state.priceArray);\n        this.setState({\n          priceArray: priceArray,\n          dateArray: dateArray\n        });\n      });\n    };\n\n    this.currentStock = () => {\n      let i = 0;\n      const interval = setInterval(() => {\n        console.log(this.state.stockArry[i]);\n        let switchedStock = this.state.stockArry[i];\n        i += 1;\n        this.setState({\n          stock: switchedStock\n        });\n\n        if (i >= this.state.stockArry.length) {\n          clearInterval(interval);\n          this.currentStock();\n          this.searchData(this.state.stock);\n        }\n      }, 4000);\n    };\n  }\n\n  componentDidMount() {\n    this.currentStock();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"recomendBX\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"stockTxt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, this.state.stock));\n  }\n\n}\n\nexport default Recomend;","map":{"version":3,"sources":["/Users/michaelmariea/Desktop/PROJECT-3/project3/client/src/components/stockrec.js"],"names":["React","Component","API","Recomend","state","stock","stockArry","value","changePercentage","priceArray","dateArray","searchData","query","search","then","res","dailySeries","data","console","log","key","push","setState","currentStock","i","interval","setInterval","switchedStock","length","clearInterval","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,qBAAP;AACA,OAAOC,GAAP,MAAgB,mBAAhB;;AAEA,MAAMC,QAAN,SAAuBF,SAAvB,CAAgC;AAAA;AAAA;AAAA,SAM9BG,KAN8B,GAMtB;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,SAAS,EAAE,CAAC,MAAD,EAAQ,OAAR,EAAgB,MAAhB,EAAuB,MAAvB,EAA8B,MAA9B,EAAqC,KAArC,EAA2C,KAA3C,EAAiD,OAAjD,EAAyD,KAAzD,EAA+D,KAA/D,EAAqE,GAArE,CAFL;AAGNC,MAAAA,KAAK,EAAE,EAHD;AAINC,MAAAA,gBAAgB,EAAE,EAJZ;AAKNC,MAAAA,UAAU,EAAE,EALN;AAMNC,MAAAA,SAAS,EAAE;AANL,KANsB;;AAAA,SAe9BC,UAf8B,GAejBC,KAAK,IAAI;AACpB,YAAMH,UAAU,GAAG,EAAnB;AACA,YAAMC,SAAS,GAAG,EAAlB;AACAR,MAAAA,GAAG,CAACW,MAAJ,CAAWD,KAAX,EACCE,IADD,CACMC,GAAG,IAAI;AACX,cAAMC,WAAW,GAAGD,GAAG,CAACE,IAAJ,CAAS,qBAAT,CAApB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;;AACA,aAAK,IAAII,GAAT,IAAgBJ,WAAhB,EAA4B;AAC1B;AACAN,UAAAA,SAAS,CAACW,IAAV,CAAe,CAACD,GAAD,EAAM,CAAN,CAAf;AACAX,UAAAA,UAAU,CAACY,IAAX,CAAgBL,WAAW,CAACI,GAAD,CAAX,CAAiB,UAAjB,CAAhB;AACD;;AACDF,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKf,KAAL,CAAWK,UAAvB;AACF,aAAKa,QAAL,CAAc;AAACb,UAAAA,UAAU,EAAEA,UAAb;AACVC,UAAAA,SAAS,EAAEA;AADD,SAAd;AAIC,OAdD;AAeD,KAjC6B;;AAAA,SAmC9Ba,YAnC8B,GAmCf,MAAM;AACnB,UAAIC,CAAC,GAAG,CAAR;AACA,YAAMC,QAAQ,GAAGC,WAAW,CAAC,MAAM;AACnCR,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKf,KAAL,CAAWE,SAAX,CAAqBkB,CAArB,CAAZ;AACA,YAAIG,aAAa,GAAG,KAAKvB,KAAL,CAAWE,SAAX,CAAqBkB,CAArB,CAApB;AACAA,QAAAA,CAAC,IAAI,CAAL;AACA,aAAKF,QAAL,CAAc;AACZjB,UAAAA,KAAK,EAAEsB;AADK,SAAd;;AAGA,YAAIH,CAAC,IAAI,KAAKpB,KAAL,CAAWE,SAAX,CAAqBsB,MAA9B,EAAsC;AACpCC,UAAAA,aAAa,CAACJ,QAAD,CAAb;AACA,eAAKF,YAAL;AACA,eAAKZ,UAAL,CAAgB,KAAKP,KAAL,CAAWC,KAA3B;AACD;AACA,OAZ2B,EAYzB,IAZyB,CAA5B;AAaD,KAlD6B;AAAA;;AAE9ByB,EAAAA,iBAAiB,GAAE;AACjB,SAAKP,YAAL;AACD;;AAgDCQ,EAAAA,MAAM,GAAE;AAEN,WACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAK3B,KAAL,CAAWC,KADZ,CADD,CADF;AAMH;;AA5D6B;;AA8DhC,eAAeF,QAAf","sourcesContent":["import React, {Component} from 'react';\nimport '../css/recomend.css';\nimport API from '../utils/stockApi';\n\nclass Recomend extends Component{\n\n  componentDidMount(){\n    this.currentStock();\n  }\n  \n  state = {\n    stock: \"\",\n    stockArry :[\"AMZN\",\"GOOGL\",\"NFLX\",\"MSFT\",\"GOOG\",\"WMT\",\"JNJ\",\"BRK.B\",\"JPM\",\"DIS\",\"s\"],\n    value: \"\",\n    changePercentage: \"\",\n    priceArray: \"\",\n    dateArray: \"\"\n  }\n  \n  searchData = query => {\n    const priceArray = [];\n    const dateArray = [];\n    API.search(query)\n    .then(res => {\n      const dailySeries = res.data[\"Time Series (Daily)\"];\n      console.log(dailySeries)\n      for (let key in dailySeries){\n        // console.log('Time: ', key, 'price: ' ,dailySeries[key]['4. close']);\n        dateArray.push([key][0])\n        priceArray.push(dailySeries[key]['4. close']);\n      }\n      console.log(this.state.priceArray)\n    this.setState({priceArray: priceArray,\n        dateArray: dateArray,\n    })\n\n    })\n  }\n    \n  currentStock = () => {\n    let i = 0;\n    const interval = setInterval(() => {\n    console.log(this.state.stockArry[i]);\n    let switchedStock = this.state.stockArry[i];\n    i += 1;\n    this.setState({\n      stock: switchedStock\n    });\n    if (i >= this.state.stockArry.length) {\n      clearInterval(interval)\n      this.currentStock();\n      this.searchData(this.state.stock)\n    }\n    }, 4000);\n  }\n\n    render(){\n\n      return(\n        <div className=\"recomendBX\"\n        ><h3 className=\"stockTxt\"\n        >{this.state.stock}</h3>\n        </div>\n    )\n  }\n}\nexport default Recomend"]},"metadata":{},"sourceType":"module"}